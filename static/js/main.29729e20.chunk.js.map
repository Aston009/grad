{"version":3,"sources":["imgs/plus.svg","imgs/eye.svg","config.js","components/Colors.jsx","components/Modal.jsx","d3.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","colors","color","onChange","top","bottom","openGradientModal","gradientDirection","useState","textArray","setTextArray","colorInputs","useEffect","getTextArray","onDrag","type","e","change","newTop","newBottom","y","document","getElementById","getBoundingClientRect","Math","min","round","pageY","max","length","arr","i","push","floor","debounce","value","index","closestTop","reduce","a","b","abs","closestBottom","indexOf","className","id","onClick","draggable","onDragEnd","style","map","item","backgroundColor","key","onClose","onSubmit","header","form","addGradient","defs","direction","gradient","append","attr","reverse","forEach","hor","ver","x00","y00","w","h","d3","empty","localStorage","setItem","JSON","stringify","window","prevZoom","parse","getItem","x0","transform","k","y0","html","svg","rectsW","wArr","rectsH","hArr","linesCoords","x1","x2","y1","y2","formatter","number","str","strNumber","String","changeGradient","select","remove","App","colorValues","setColors","isRectsModalOpen","setIsRectsModalOpen","isLinesShows","setIsLinesShows","isGradientModalOpen","setIsGradientModalOpen","countRects","setCountRects","setGradientDirection","isOverlayOpen","setIsOverlayOpen","scales","setScales","canvasSizes","margin","width","height","yScale","range","domain","xScale","yAxis","tickSize","ticks","tickFormat","yAxisGroup","call","xAxis","xAxisGroup","text","rects","gradientG","gradientDefs","zoom","scaleExtent","translateExtent","on","scale","rescaleX","rescaleY","drawCharts","slice","Date","now","rectParams","draw","invert","innerWidth","x","innerHeight","overlayDrag","subject","console","log","src","editIcon","alt","prev","hideIcon","Modal","preventDefault","formData","FormData","target","parentNode","parseInt","get","htmlFor","placeholder","name","defaultChecked","for","display","Colors","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,6KCA9BC,EAAS,CACnB,CACGC,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,WAEV,CACGA,MAAO,YCzBE,cAAoE,IAAlEC,EAAiE,EAAjEA,SAAUC,EAAuD,EAAvDA,IAAKC,EAAkD,EAAlDA,OAAQC,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,kBAAuB,EAC7CC,mBAAS,IADoC,mBACxEC,EADwE,KAC7DC,EAD6D,OAEzCF,mBAAS,CAAC,GAAI,KAF2B,mBAExEG,EAFwE,UAI/EC,qBAAU,WACPF,EAAaG,EAAaN,MAC1B,CAACH,EAAKC,EAAQE,IAEjB,IAAMO,EAAS,SAACC,EAAMC,EAAGC,GAAY,IAE9BC,EACAC,EAFGC,EAAKC,SAASC,eAAe,UAAUC,wBAAvCH,EAGM,QAATL,GACDG,EAASM,KAAKC,IAAID,KAAKE,OAAOV,EAAEW,MAAQP,GAAK,IAAKf,EAAS,GAC3DF,EAASe,EAAS,EAAI,EAAIA,EAAQb,EAAQY,KAE1CE,EAAYK,KAAKI,IAAIJ,KAAKE,OAAOV,EAAEW,MAAQP,GAAK,IAAKhB,EAAM,GAC3DD,EAASC,EAAKe,EAAYlB,EAAO4B,OAAS,EAAI5B,EAAO4B,OAASV,EAAWF,KAIzEJ,EAAe,SAACN,GAEnB,IADA,IAAIuB,EAAM,GACDC,EAAI,EAAGA,EAAI1B,EAAQ0B,IACrBA,EAAI3B,EACL0B,EAAIE,KAAK,IAGc,WAAtBzB,EACGwB,EAAI3B,IAAQ,EAAG0B,EAAIE,KAAK,KACvBF,EAAIE,KAAK,KAASD,EAAI3B,GAAOoB,KAAKS,MAAO,KAAS5B,EAASD,EAAM,KAGlE2B,EAAI3B,IAAQ,EAAG0B,EAAIE,MAAM,KACxBF,EAAIE,MAAaD,EAAI3B,GAAOoB,KAAKS,MAAO,KAAO5B,EAASD,EAAM,IAApD,KAGrB,OAAO0B,GAGYI,KAAS,SAACC,EAAOC,GACpC,GAAMD,IAAqB,IAAVC,GAAezB,EAAY,IAAkB,IAAVyB,GAAezB,EAAY,IAA/E,CAEA,IAAMP,EAAgB,IAAVgC,EAAcD,EAAQxB,EAAY,GACxCN,EAAmB,IAAV+B,EAAcD,EAAQxB,EAAY,GAE3C0B,EAAa5B,EAAU6B,QAAO,SAACC,EAAGC,GACrC,OAAOhB,KAAKiB,IAAID,EAAIpC,GAAOoB,KAAKiB,IAAIF,EAAInC,GAAOoC,EAAID,KAEhDG,EAAgBjC,EAAU6B,QAAO,SAACC,EAAGC,GACxC,OAAOhB,KAAKiB,IAAID,EAAInC,GAAUmB,KAAKiB,IAAIF,EAAIlC,GAAUmC,EAAID,KAG5DpC,EAASM,EAAUkC,QAAQN,GAAab,KAAKI,IAAInB,EAAUkC,QAAQD,GAAgBjC,EAAUkC,QAAQN,GAAc,IAAI,MACvH,KAOH,OACG,yBAAKO,UAAU,SAASC,GAAG,UACxB,4BAAQC,QAASxC,GAAjB,sEAoBA,yBAAKsC,UAAU,SAASG,UAAU,OAAOjC,OAAQ,SAAAE,GAAC,OAAIF,EAAO,MAAOE,IAAIgC,UAAW,SAAAhC,GAAC,OAAIF,EAAO,MAAOE,GAAG,IAAOiC,MAAO,CAAC7C,IAAS,GAAJA,KAC5HH,EAAOiD,KAAI,SAACC,EAAMf,GAAP,OACT,yBAAKQ,UAAU,aAAaK,MAAO,CAACG,gBAAiBD,EAAKjD,OAAQ2C,GAAIT,EAAOiB,IAAKjB,GAC/E,8BAAO3B,EAAU2B,QAGvB,yBAAKQ,UAAU,YAAYG,UAAU,OAAOjC,OAAQ,SAAAE,GAAC,OAAIF,EAAO,SAAUE,IAAIgC,UAAW,SAAAhC,GAAC,OAAIF,EAAO,SAAUE,GAAG,IAAQiC,MAAO,CAAC7C,IAAY,GAAPC,OC3FjI,kBAAEiD,EAAF,EAAEA,QAASC,EAAX,EAAWA,SAAUC,EAArB,EAAqBA,OAAQC,EAA7B,EAA6BA,KAA7B,OACZ,yBAAKb,UAAU,SACZ,4BAAQE,QAASQ,EAASV,UAAU,SAApC,QACA,8BACG,4BAAKY,EAAL,KACCC,EACD,4BAAQX,QAAS,SAAA9B,GAAMuC,EAASvC,GAAIsC,KAAYvC,KAAK,SAAS6B,UAAU,UAAxE,mE,iDCNHc,EAAc,SAACC,EAAMC,EAAW3D,GACrC,IAAI4D,EA0CJ,GAzCkB,iBAAdD,EACHC,EAAWF,EACTG,OAAO,kBACPC,KAAK,KAAM,YACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACXA,KAAK,KAAM,QACW,gBAAdH,EACVC,EAAWF,EACTG,OAAO,kBACPC,KAAK,KAAM,YACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACW,cAAdH,EACVC,EAAWF,EACTG,OAAO,kBACPC,KAAK,KAAM,YACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MACW,aAAdH,EACVC,EAAWF,EACTG,OAAO,kBACPC,KAAK,KAAM,YACXA,KAAK,KAAM,QACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MACW,WAAdH,IACVC,EAAWF,EACTG,OAAO,kBACPC,KAAK,KAAM,YACXA,KAAK,IAAK,SAKI,WAAdH,EAAwB,CAE1B3D,EAAO+D,UAAUC,SAAQ,SAAC/D,EAAOkC,GAAR,OACzByB,EAASC,OAAO,QACdC,KAAK,SAHK,GAGe,GAAgB9D,EAAO4B,QAAWO,EAAQ,GAAM,KACzE2B,KAAK,aAAc7D,EAAMA,OACzB6D,KAAK,eAAgB,WAGvB9D,EAAO+D,UAAUC,SAAQ,SAAC/D,EAAOkC,GAAR,OACzByB,EAASC,OAAO,QACdC,KAAK,SAAY,IAAM9D,EAAO4B,QAAWO,EAAQ,GAAM,KACvD2B,KAAK,aAAc7D,EAAMA,OACzB6D,KAAK,eAAgB,OAMV,WAACG,EAAKC,EAAKC,EAAKC,EAAKC,EAAGC,EAAG1B,GACpC2B,IAAU,SAASC,SAASC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUC,OAAOC,UAAY,KACpG,IAAMA,EAAWH,KAAKI,MAAMN,aAAaO,QAAQ,aAAe,MAE5DC,EAAKd,GAAQU,OAAOC,UAAYD,OAAOC,SAASI,UAAUC,GAAOL,EAASI,WAAaJ,EAASI,UAAUC,GAAM,GAChHC,EAAKhB,GAAQS,OAAOC,UAAYD,OAAOC,SAASI,UAAUC,GAAOL,EAASI,WAAaJ,EAASI,UAAUC,GAAM,GAEpHV,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CACjDX,EACAC,EACAC,EACAC,EACAC,EACAC,KAGDC,IAAU,iBACRc,KAAK,IACLxB,OAAO,QACPC,KAAK,IAAKmB,GACVnB,KAAK,IAAKsB,GACVtB,KAAK,QAASO,GACdP,KAAK,SAAUQ,GAEjBC,IAAU,WAAWc,KAAK,IAAIxB,OAAO,KACnCC,KAAK,KAAMlB,GACXkB,KAAK,QAAS,QAEhB,IAAMwB,EAAMf,IAAA,WAAc3B,IACxBiB,OAAO,KACPC,KAAK,KAAM,SAEbwB,EAAIzB,OAAO,QACTC,KAAK,IAAKmB,GACVnB,KAAK,IAAKsB,GACVtB,KAAK,QAASO,GACdP,KAAK,SAAUQ,GACfR,KAAK,eAAgB,GACrBA,KAAK,SAAU,SACfA,KAAK,OAAQ,QAKf,IAFA,IAAMyB,EAASlB,EAAIJ,EACfuB,EAAO,GACF1D,EAAIyD,EAAQhE,KAAKE,MAAMK,GAAKP,KAAKE,MAAM4C,GAAIvC,GAAKyD,EACxDC,EAAKzD,KAAKD,GACVwD,EAAIzB,OAAO,QACTC,KAAK,KAAMhC,EAAImD,GACfnB,KAAK,KAAM,EAAIsB,GACftB,KAAK,KAAMhC,EAAImD,GACfnB,KAAK,KAAMQ,EAAIc,GACftB,KAAK,eAAgB,GACrBA,KAAK,SAAU,SAElB0B,EAAKzD,KAAKsC,GAGV,IAFA,IAAMoB,EAASnB,EAAIJ,EACfwB,EAAO,GACF5D,EAAI2D,EAAQlE,KAAKE,MAAMK,GAAKP,KAAKE,MAAM6C,GAAIxC,GAAK2D,EACxDC,EAAK3D,KAAKD,GACVwD,EAAIzB,OAAO,QACTC,KAAK,KAAM,EAAImB,GACfnB,KAAK,KAAMhC,EAAIsD,GACftB,KAAK,KAAMO,EAAIY,GACfnB,KAAK,KAAMhC,EAAIsD,GACftB,KAAK,eAAgB,GACrBA,KAAK,SAAU,SAElB4B,EAAK3D,KAAKuC,GAGV,IADA,IAAIqB,EAAc,CAAC,CAAC,EAAG,EAAG,EAAG,IACpB7D,EAAI,EAAGA,EAAI0D,EAAK5D,OAAS8D,EAAK9D,OAAS,EAAGE,IAAK,CACvD,IAAI8D,OAAE,EAAEC,OAAE,EAAEC,OAAE,EAAEC,OAAE,EACdjE,GAAK0D,EAAK5D,OAAS,GACtBgE,EAAKJ,EAAK1D,GACVgE,EAAK,IAELF,EAAKvB,EACLyB,GAAMhE,EAAI0D,EAAK5D,OAAS,GAAK6D,GAG1B3D,GAAK4D,EAAK9D,OAAS,GACtBmE,EAAKL,EAAK5D,GACV+D,EAAK,IAELE,EAAKzB,EACLuB,GAAM/D,EAAI4D,EAAK9D,OAAS,GAAK2D,GAG9BI,EAAY5D,KAAK,CAAC6D,EAAIE,EAAID,EAAIE,IAC9BT,EAAIzB,OAAO,QACTC,KAAK,KAAM8B,EAAKX,GAChBnB,KAAK,KAAMgC,EAAKV,GAChBtB,KAAK,KAAM+B,EAAKZ,GAChBnB,KAAK,KAAMiC,EAAKX,GAChBtB,KAAK,eAAgB,GACrBA,KAAK,SAAU,SAGlB,IAAK,IAAIhC,EAAI,EAAGA,EAAI0D,EAAK5D,OAAS8D,EAAK9D,OAAS,EAAGE,IAAK,CACvD,IAAI8D,OAAE,EAAEC,OAAE,EAAEC,OAAE,EAAEC,OAAE,EACdjE,EAAI0D,EAAK5D,OAAS,GACrBgE,EAAKJ,EAAK1D,GACVgE,EAAK,IAELF,EAAKvB,EACLyB,GAAMhE,EAAI0D,EAAK5D,OAAS,GAAK6D,GAG1B3D,GAAK4D,EAAK9D,OAAS,GACtBmE,EAAKL,EAAK5D,GACV+D,EAAK,IAELE,EAAKzB,EACLuB,GAAM/D,EAAI4D,EAAK9D,OAAS,GAAK2D,GAG9BD,EAAIzB,OAAO,QACTC,KAAK,KAAM8B,EAAKX,GAChBnB,KAAK,KAAMgC,EAAKV,GAChBtB,KAAK,KAAM+B,EAAKZ,GAChBnB,KAAK,KAAMiC,EAAKX,GAChBtB,KAAK,eAAgB,GACrBA,KAAK,SAAU,SAElB,IAAK,IAAIhC,EAAI,EAAGA,EAAI0D,EAAK5D,OAAS8D,EAAK9D,OAAQE,IAAK,CACnD,IAAI8D,OAAE,EAAEC,OAAE,EAAEC,OAAE,EAAEC,OAAE,EACdjE,EAAI0D,EAAK5D,OAAS,GACrBgE,EAAKJ,EAAKA,EAAK5D,OAAS,EAAIE,GAC5BgE,EAAK,IAELF,EAAK,EACLE,GAAMhE,EAAI0D,EAAK5D,OAAS,GAAK6D,GAG1B3D,GAAK4D,EAAK9D,OAAS,GACtBmE,EAAKL,EAAK5D,GACV+D,EAAKxB,IAEL0B,EAAKzB,EACLuB,EAAKxB,GAAMvC,EAAI4D,EAAK9D,OAAS,GAAK2D,GAGnCD,EAAIzB,OAAO,QACTC,KAAK,KAAM8B,EAAKX,GAChBnB,KAAK,KAAMgC,EAAKV,GAChBtB,KAAK,KAAM+B,EAAKZ,GAChBnB,KAAK,KAAMiC,EAAKX,GAChBtB,KAAK,eAAgB,GACrBA,KAAK,SAAU,WAIbkC,EAAY,SAACC,GAIhB,IAHA,IAAIC,EAAM,GACJC,EAAYC,OAAOH,GAEhBnE,EAAIqE,EAAUvE,OAAS,EAAGE,GAAK,EAAGA,IACxCoE,IAAQC,EAAUvE,OAASE,GAAK,IAAM,EAAI,IAAM,IAAMqE,EAAUrE,GAAKoE,EAExE,OAAOA,GA2FGG,EAAiB,SAACrG,EAAQ2D,GACpC,IAAMD,EAAOa,IAAa,mBAE1Bb,EAAK4C,OAAO,aACRC,SAEJ9C,EAAYC,EAAMC,EAAW3D,ICtIjBwG,MAhLf,WAAgB,IAAD,EACejG,mBAAS,CAAC,EAAGkG,EAAY7E,SADxC,mBACN5B,EADM,KACE0G,EADF,OAEmCnG,oBAAS,GAF5C,mBAENoG,EAFM,KAEYC,EAFZ,OAG2BrG,oBAAS,GAHpC,mBAGNsG,EAHM,KAGQC,EAHR,OAIyCvG,oBAAS,GAJlD,mBAINwG,EAJM,KAIeC,EAJf,OAKuBzG,mBAAS,CAAC,EAAG,IALpC,mBAKN0G,EALM,KAKMC,EALN,OAMqC3G,mBAAS,gBAN9C,mBAMND,EANM,KAMa6G,EANb,OAO6B5G,oBAAS,GAPtC,mBAON6G,EAPM,KAOSC,EAPT,OAQe9G,mBAAS,MARxB,mBAQN+G,EARM,KAQEC,EARF,KA2Fb,OA/DA5G,qBAAU,WACR,IAAM2G,ED2LgB,SAACtH,EAAQ2D,GAChC,IAAM6D,EAAcpG,SAASC,eAAe,UAAUC,wBAElDmG,EAAe,EAAfA,EAAyB,EAAzBA,EAAoC,GAApCA,EAA8C,GAC9CC,EAAQF,EAAYE,MAAQD,EAAcA,EAC1CE,EAASH,EAAYG,OAAS,GAAKF,EAAaA,EAEhDnC,EAAMf,IAAU,WAAWV,OAAO,OAClCC,KAAK,QAAS4D,EAAQD,EAAcA,GACpC3D,KAAK,SAAU6D,EAASF,EAAaA,GACrC5D,OAAO,KACPC,KAAK,YAAY,aAAa2D,EAAY,IAAIA,EAAW,KAEvDG,EAASrD,MAAiBsD,MAAM,CAACF,EAAQ,IAAIG,OAAO,CAAC,EAAG,IAAMH,EAASD,IACvEK,EAASxD,MAAiBsD,MAAM,CAAC,EAAGH,IAAQI,OAAO,CAAC,EAAG,MAEvDE,EAAQzD,IAAYqD,GAAQK,UAAUT,EAAYE,OAAOQ,MAAM,GAAGC,WAAWnC,GAC7EoC,EAAa9C,EAAIzB,OAAO,KAAKwE,KAAKL,GAElCM,EAAQ/D,IAAcwD,GAAQE,UAAUT,EAAYG,QAAQO,MAAM,IAAIC,WAAWnC,GACjFuC,EAAajD,EAAIzB,OAAO,KAAKC,KAAK,YAArB,uBAAkD6D,EAAlD,MAA6DU,KAAKC,GAErFhD,EAAIzB,OAAO,QAAQ2E,KAAK,KACpB1E,KAAK,IAAK,EAAI2D,GACd3D,KAAK,IAAK6D,EAAS,GACvBrC,EAAIzB,OAAO,QAAQ2E,KAAK,KACpB1E,KAAK,IAAK4D,EAAQ,GAClB5D,KAAK,IAAK6D,EAASF,GACvBzE,MAAM,cAAe,UAEvB,IAAMyF,EAAQlE,IACL,WACPV,OAAO,OACPC,KAAK,KAAM,SACXA,KAAK,YAAa,cAEd4E,EAAYD,EAChB5E,OAAO,KACPC,KAAK,KAAM,aAEXA,KAAK,YAAa,sBAEpB4E,EAAU7E,OAAO,QACfC,KAAK,QAAS,EAAI4D,GAClB5D,KAAK,SAAU,EAAI4D,GACnB5D,KAAK,IAAc,GAAR4D,GACX5D,KAAK,KAAM4D,EAAQC,GACnB7D,KAAK,OAAQ,kBAEf,IAAM6E,EAAeD,EACnB7E,OAAO,QACT8E,EACE9E,OAAO,YACPC,KAAK,KAAM,gBAEbL,EACCkF,EACAhF,EACA3D,GAGDyI,EAAM5E,OAAO,QAAQA,OAAO,YACtBC,KAAK,YAAa,oBAClBA,KAAK,KAAM,QACXD,OAAO,QACPC,KAAK,QAAS4D,GAClB5D,KAAK,SAAU6D,GAEjBc,EAAM5E,OAAO,KACXC,KAAK,KAAM,UAEX,IAAI8E,EAAOrE,MACPsE,YAAY,CAAC,GAAK,IAClBC,gBAAgB,CAAC,EAAEpB,GAAQA,EAAQC,GAAQ,CAACD,EAAQ,GAAIA,EAAQC,EAAS,MACzEoB,GAAG,QAEP,WACDxE,IAAU,WAAWT,KAAK,YAAaS,IAASW,WAChDX,IAAU,cAAcT,KAAK,YAAaS,IAASW,WAC/CqD,EAAWF,KAAKC,EAAMU,MAAMzE,IAASW,UAAU+D,SAASlB,KACxDK,EAAWC,KAAKL,EAAMgB,MAAMzE,IAASW,UAAUgE,SAAStB,KAC5D/C,OAAOC,SAAP,eAAsBP,QAIrB,OAFAA,IAAU,UAAU8D,KAAKO,GAElB,CAACb,EAAQH,GChRAuB,CACb1C,EAAY2C,MAAMpJ,EAAO,GAAIA,EAAO,IACpCM,GAEFiH,EAAUD,GAEN,IAAM1E,EAAK,OAASyG,KAAKC,MAEnBC,EAAa5E,KAAKI,MAAMN,aAAaO,QAAQ,eAAiB,MACpE,GAAIuE,EAAW3H,OACb4H,EAAI,WAAJ,cACKD,GADL,QAEE3G,SAEG,CACL,IAAM4E,EAAcpG,SAASC,eAAe,UAAUC,wBAEhDsE,EAAK0B,EAAO,GAAGmC,OAAO5E,OAAO6E,WAAa,EAAI,OAASlC,EAAYE,MAAQ,IAAM,KAAO,IAAO7C,OAAOC,UAAYD,OAAOC,SAASI,UAAUyE,GAAM,GAClJ7D,EAAK0B,EAAYG,OAASL,EAAO,GAAGmC,OAAO5E,OAAO+E,YAAc,EAAI,OAASpC,EAAYE,MAAQ,IAAM,KAAO,IAAO7C,OAAOC,UAAYD,OAAOC,SAASI,UAAU/D,GAAM,GAC9KkG,GAAiB,GACjBmC,EACE,EACA,EACA5D,EACAE,EACA,IACA,IACAlD,MAGP,IAEHjC,qBAAU,WACR,GAAM2G,GAAUA,EAAO1F,OAAvB,CACA,IAAM4F,EAAcpG,SAASC,eAAe,UAAUC,wBAEhDuI,EAActF,MACjBwE,GAAG,OAAO,WAET,IAAMnD,EAAK0B,EAAO,GAAGmC,OAAOlF,IAASuF,QAAQH,KAAOnC,EAAYE,MAAQ,IAAM,KAAO,IAAO7C,OAAOC,UAAYD,OAAOC,SAASI,UAAUyE,GAAM,GACzI7D,EAAK0B,EAAYG,OAASL,EAAO,GAAGmC,OAAOlF,IAASuF,QAAQ3I,KAAOqG,EAAYE,MAAQ,IAAM,KAAO,IAAO7C,OAAOC,UAAYD,OAAOC,SAASI,UAAU/D,GAAM,GAE9JyB,EAAK,OAASyG,KAAKC,MAEzBjC,GAAiB,GACjBmC,EAAI,WAAJ,cACKvC,GADL,QAEErB,EACAE,GACCvB,IAASoF,EAAIpF,IAASuF,QAAQH,IAAO9E,OAAOC,UAAYD,OAAOC,SAASI,UAAUC,GAAM,IACxFZ,IAASpD,EAAIoD,IAASuF,QAAQ3I,IAAO0D,OAAOC,UAAYD,OAAOC,SAASI,UAAUC,GAAM,GACzFvC,QAGN2B,IAAU,YAAY8D,KAAKwB,MAE1B,CAACvC,EAAQL,EAAY3G,IAExBK,qBAAU,WACRkG,GDwOHtC,IAAa,gBAAgBT,KAAK,eAAgB,GAClDS,IAAa,gBAAgBT,KAAK,eAAgB,KAPlDiG,QAAQC,IAAI,QACZzF,IAAa,gBAAgBT,KAAK,eAAgB,GAClDS,IAAa,gBAAgBT,KAAK,eAAgB,MCnO9C,CAAC+C,IAGF,8BACE,4BAAQhE,QAAS,kBAAM+D,GAAoB,IAAOjE,UAAU,QAAO,yBAAKsH,IAAKC,IAAUC,IAAI,oFAC3F,4BAAQtH,QAAS,kBAAMiE,GAAgB,SAAAsD,GAAI,OAAKA,MAAOzH,UAAU,QAAO,yBAAKsH,IAAKI,IAAUF,IAAI,qFAC/FxD,GACC,kBAAC2D,EAAD,CACEjH,QAAS,kBAAMuD,GAAoB,IACnCtD,SAnFc,SAAAvC,GACpBA,EAAEwJ,iBACFlD,GAAiB,GACjB,IAAMmD,EAAW,IAAIC,SAAS1J,EAAE2J,OAAOC,YACvCzD,EAAc,CAAC0D,SAASJ,EAASK,IAAI,eAAgBD,SAASJ,EAASK,IAAI,gBAgFrEtH,OAAQ,6FACRC,KAAM,4BACJ,4BACG,2BAAOsH,QAAQ,cAAf,mFACA,2BAAOhK,KAAK,SAASiK,YAAY,IAAInI,GAAG,aAAapB,IAAI,IAAIwJ,KAAK,gBAErE,4BACG,2BAAOF,QAAQ,YAAf,uEACA,2BAAOhK,KAAK,SAASiK,YAAY,IAAInI,GAAG,WAAWpB,IAAI,IAAIwJ,KAAK,iBAKxEjE,GACC,kBAACuD,EAAD,CACEjH,QAAS,kBAAM2D,GAAuB,IACtC1D,SA9F0B,SAAAvC,GAChCA,EAAEwJ,iBACF,IAAMC,EAAW,IAAIC,SAAS1J,EAAE2J,OAAOC,YACvCxD,EAAqBqD,EAASK,IAAI,cAClCxE,EAAeI,EAAY2C,MAAMpJ,EAAO,GAAIA,EAAO,IAAKwK,EAASK,IAAI,eA2F/DtH,OAAQ,sHACRC,KAAM,4BACJ,4BACE,2BAAO1C,KAAK,QAAQ8B,GAAG,eAAeoI,KAAK,YAAY9I,MAAM,eAAe+I,eAAsC,iBAAtB3K,IAC5F,2BAAO4K,IAAI,QAAX,SAEF,4BACE,2BAAOpK,KAAK,QAAQ8B,GAAG,YAAYoI,KAAK,YAAY9I,MAAM,YAAY+I,eAAsC,cAAtB3K,IACtF,2BAAO4K,IAAI,QAAX,SAEF,4BACE,2BAAOpK,KAAK,QAAQ8B,GAAG,WAAWoI,KAAK,YAAY9I,MAAM,WAAW+I,eAAsC,aAAtB3K,IACpF,2BAAO4K,IAAI,QAAX,QAEF,4BACE,2BAAOpK,KAAK,QAAQ8B,GAAG,cAAcoI,KAAK,YAAY9I,MAAM,cAAc+I,eAAsC,gBAAtB3K,IAC1F,2BAAO4K,IAAI,QAAX,QAEF,4BACE,2BAAOpK,KAAK,QAAQ8B,GAAG,SAASoI,KAAK,YAAY9I,MAAM,SAAS+I,eAAsC,WAAtB3K,IAChF,2BAAO4K,IAAI,QAAX,IAAmB,kCAAnB,KAAiC,uCAKzC,yBAAKvI,UAAU,WACb,yBACEC,GAAG,UACHI,MAAO,CAACmI,QAAS/D,EAAgB,QAAU,UAK7C,yBACEzE,UAAU,SACVC,GAAG,YAcP,kBAACwI,EAAD,CACElL,SA5Je,SAACC,EAAKC,GACzBsG,EAAU,CAACvG,EAAKC,IAChBiG,EAAeI,EAAY2C,MAAMjJ,EAAKC,GAASE,IA2J3CH,IAAKH,EAAO,GACZI,OAAQJ,EAAO,GACfK,kBAAmB,kBAAM2G,GAAuB,IAChD1G,kBAAmBA,MCxKP+K,QACW,cAA7BxG,OAAOyG,SAASC,UAEe,UAA7B1G,OAAOyG,SAASC,UAEhB1G,OAAOyG,SAASC,SAASC,MACvB,2DCbNC,IAASC,OAAO,kBAAC,EAAD,MAAStK,SAASC,eAAe,SD8H3C,kBAAmBsK,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLnC,QAAQmC,MAAMA,EAAMC,c","file":"static/js/main.29729e20.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/plus.cdc95f38.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye.8a4fc4d1.svg\";","export const colors = [\r\n   {\r\n      color: '#ff6666',\r\n   },\r\n   {\r\n      color: '#ffb366',\r\n   },\r\n   {\r\n      color: '#ffff66',\r\n   },\r\n   {\r\n      color: '#b3ff66',\r\n   },\r\n   {\r\n      color: '#66ff66',\r\n   },\r\n   {\r\n      color: '#66ffd9',\r\n   },\r\n   {\r\n      color: '#66b3ff',\r\n   },\r\n   {\r\n      color: '#8c66ff',\r\n   },\r\n   {\r\n      color: '#ff66ff',\r\n   },\r\n   {\r\n      color: '#ff668c',\r\n   },\r\n]\r\n\r\n// [\r\n//    {\r\n//       color: '#ff6364',\r\n//    },\r\n//    {\r\n//       color: '#ffa868',\r\n//    },\r\n//    {\r\n//       color: '#ffe672',\r\n//    },\r\n//    {\r\n//       color: '#d3ff84',\r\n//    },\r\n//    {\r\n//       color: '#96ff96',\r\n//    },\r\n//    {\r\n//       color: '#96ffd4',\r\n//    },\r\n//    {\r\n//       color: '#8ef3ff',\r\n//    },\r\n//    {\r\n//       color: '#7dd1ff',\r\n//    },\r\n//    {\r\n//       color: '#6999ff',\r\n//    },\r\n//    {\r\n//       color: '#5455ff',\r\n//    },\r\n// ]","import React, { useState, useEffect } from 'react'\r\nimport debounce from 'lodash.debounce'\r\nimport {colors} from '../config'\r\n\r\nexport default ({onChange, top, bottom, openGradientModal, gradientDirection}) => {\r\n   const [textArray, setTextArray] = useState([])\r\n   const [colorInputs, setColorInputs] = useState(['', ''])\r\n\r\n   useEffect(() => {\r\n      setTextArray(getTextArray(gradientDirection))\r\n   }, [top, bottom, gradientDirection])\r\n\r\n   const onDrag = (type, e, change) => {\r\n      const {y} = document.getElementById('colors').getBoundingClientRect()\r\n      let newTop\r\n      let newBottom\r\n      if (type === 'top') {\r\n         newTop = Math.min(Math.round((e.pageY - y) / 50), bottom - 1)\r\n         onChange(newTop < 0 ? 0 : newTop, bottom, change)\r\n      } else {\r\n         newBottom = Math.max(Math.round((e.pageY - y) / 50), top + 1)\r\n         onChange(top, newBottom > colors.length - 1 ? colors.length : newBottom, change)\r\n      }\r\n   }\r\n\r\n   const getTextArray = (gradientDirection) => {\r\n      let arr = []\r\n      for (let i = 0; i < bottom; i++) {\r\n         if (i < top) {\r\n            arr.push('')\r\n            continue\r\n         }\r\n         if (gradientDirection === 'center') {\r\n            if (i - top === 0) arr.push(20000)\r\n            else arr.push(20000 - (i - top) * Math.floor((20000 / (bottom - top - 1))))\r\n         }\r\n         else {\r\n            if (i - top === 0) arr.push(-200)\r\n            else arr.push(-200 + (i - top) * Math.floor((400 / (bottom - top - 1))))\r\n         }\r\n      }\r\n      return arr\r\n   }\r\n\r\n   const onInputChange = debounce((value, index) => {\r\n      if (!(value && ((index === 0 && colorInputs[1]) || (index === 1 && colorInputs[0])))) return\r\n\r\n      const top = index === 0 ? value : colorInputs[0]\r\n      const bottom = index === 1 ? value : colorInputs[1]\r\n\r\n      const closestTop = textArray.reduce((a, b) => {\r\n         return Math.abs(b - top) < Math.abs(a - top) ? b : a;\r\n      });\r\n      const closestBottom = textArray.reduce((a, b) => {\r\n         return Math.abs(b - bottom) < Math.abs(a - bottom) ? b : a;\r\n      });\r\n      \r\n      onChange(textArray.indexOf(closestTop), Math.max(textArray.indexOf(closestBottom), textArray.indexOf(closestTop) + 1), true)\r\n   }, 2000)\r\n\r\n   const resetColors = () => {\r\n      setColorInputs(['', ''])\r\n      onChange(0, 10, true)\r\n   }\r\n\r\n   return (\r\n      <div className='colors' id='colors'>\r\n         <button onClick={openGradientModal}>Направление</button>\r\n         {/* <div id='colorsInputs'>\r\n            <input\r\n               type='number'\r\n               value={colorInputs[0]}\r\n               onChange={e => {\r\n                  setColorInputs([e.target.value, colorInputs[1]])\r\n                  onInputChange(e.target.value, 0)\r\n               }}\r\n            />\r\n            <input\r\n               type='number'\r\n               value={colorInputs[1]}\r\n               onChange={e => {\r\n                  setColorInputs([colorInputs[0], e.target.value])\r\n                  onInputChange(e.target.value, 1)\r\n               }}\r\n            />\r\n            <button onClick={() => resetColors()}>x</button>\r\n         </div> */}\r\n         <div className=\"hr top\" draggable='true' onDrag={e => onDrag('top', e)} onDragEnd={e => onDrag('top', e, true)} style={{top: top*50}}></div>\r\n         {colors.map((item, index) => \r\n            <div className='color-item' style={{backgroundColor: item.color}} id={index} key={index}>\r\n               <span>{textArray[index]}</span>\r\n            </div>\r\n         )}\r\n         <div className=\"hr bottom\" draggable='true' onDrag={e => onDrag('bottom', e)} onDragEnd={e => onDrag('bottom', e, true)}  style={{top: bottom*50}}></div>\r\n      </div>\r\n   )\r\n}","import React from 'react'\r\n\r\nexport default ({onClose, onSubmit, header, form}) => (\r\n   <div className=\"modal\">\r\n      <button onClick={onClose} className='close'>×</button>\r\n      <form>\r\n         <h2>{header}:</h2>\r\n         {form}\r\n         <button onClick={e => {onSubmit(e); onClose()}} type='button' className='submit'>Продолжить</button>\r\n      </form>\r\n   </div>\r\n)","import * as d3 from 'd3'\r\n\r\nconst addGradient = (defs, direction, colors) => {\r\n\tlet gradient;\r\n\tif (direction === 'bottom-right') {\r\n\t\tgradient = defs\r\n\t\t\t.append(\"linearGradient\")\r\n\t\t\t.attr(\"id\", \"gradient\")\r\n\t\t\t.attr(\"x1\", \"0%\")\r\n\t\t\t.attr(\"y1\", \"0%\")\r\n\t\t\t.attr(\"x2\", \"100%\")\r\n\t\t\t.attr(\"y2\", \"100%\")\r\n\t} else if (direction === 'bottom-left') {\r\n\t\tgradient = defs\r\n\t\t\t.append(\"linearGradient\")\r\n\t\t\t.attr(\"id\", \"gradient\")\r\n\t\t\t.attr(\"x1\", \"100%\")\r\n\t\t\t.attr(\"y1\", \"0%\")\r\n\t\t\t.attr(\"x2\", \"0%\")\r\n\t\t\t.attr(\"y2\", \"100%\")\r\n\t} else if (direction === 'top-right') {\r\n\t\tgradient = defs\r\n\t\t\t.append(\"linearGradient\")\r\n\t\t\t.attr(\"id\", \"gradient\")\r\n\t\t\t.attr(\"x1\", \"0%\")\r\n\t\t\t.attr(\"y1\", \"100%\")\r\n\t\t\t.attr(\"x2\", \"100%\")\r\n\t\t\t.attr(\"y2\", \"0%\")\r\n\t} else if (direction === 'top-left') {\r\n\t\tgradient = defs\r\n\t\t\t.append(\"linearGradient\")\r\n\t\t\t.attr(\"id\", \"gradient\")\r\n\t\t\t.attr(\"x1\", \"100%\")\r\n\t\t\t.attr(\"y1\", \"100%\")\r\n\t\t\t.attr(\"x2\", \"0%\")\r\n\t\t\t.attr(\"y2\", \"0%\")\r\n\t} else if (direction === 'center') {\r\n\t\tgradient = defs\r\n\t\t\t.append(\"radialGradient\")\r\n\t\t\t.attr(\"id\", \"gradient\")\r\n\t\t\t.attr(\"r\", \"0.73\")\r\n\t\t\t\r\n\t\t\r\n\t}\r\n\r\n\tif(direction === 'center') {\r\n\t\tlet start = 24;\r\n\t\tcolors.reverse().forEach((color, index) =>\r\n\t\tgradient.append(\"stop\")\r\n\t\t\t.attr('offset', (start + ((100 - start) / colors.length) * (index + 1)) + '%')\r\n\t\t\t.attr(\"stop-color\", color.color)\r\n\t\t\t.attr('stop-opacity', 1)\r\n\t\t)\r\n\t} else {\r\n\t\tcolors.reverse().forEach((color, index) =>\r\n\t\tgradient.append(\"stop\")\r\n\t\t\t.attr('offset', ((100 / colors.length) * (index + 1)) + '%')\r\n\t\t\t.attr(\"stop-color\", color.color)\r\n\t\t\t.attr('stop-opacity', 1)\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default (hor, ver, x00, y00, w, h, id) => {\r\n\tif (!d3.select('.rect').empty()) localStorage.setItem('prevZoom', JSON.stringify(window.prevZoom || {}))\r\n\tconst prevZoom = JSON.parse(localStorage.getItem('prevZoom') || '{}')\r\n\r\n\tlet x0 = x00 / ((window.prevZoom && window.prevZoom.transform.k) || (prevZoom.transform && prevZoom.transform.k) || 1)\r\n\tlet y0 = y00 / ((window.prevZoom && window.prevZoom.transform.k) || (prevZoom.transform && prevZoom.transform.k) || 1)\r\n\r\n\tlocalStorage.setItem('rectParams', JSON.stringify([\r\n\t\thor,\r\n\t\tver,\r\n\t\tx00,\r\n\t\ty00,\r\n\t\tw,\r\n\t\th,\r\n\t]))\r\n\r\n\td3.select('#clipGradient')\r\n\t\t.html('')\r\n\t\t.append('rect')\r\n\t\t.attr('x', x0)\r\n\t\t.attr('y', y0)\r\n\t\t.attr('width', w)\r\n\t\t.attr('height', h)\r\n\r\n\td3.select('#rectsG').html('').append('g')\r\n\t\t.attr('id', id)\r\n\t\t.attr('class', 'rect')\r\n\r\n\tconst svg = d3.select(`#${id}`)\r\n\t\t.append(\"g\")\r\n\t\t.attr('id', 'mainG')\r\n\t\r\n\tsvg.append('rect')\r\n\t\t.attr('x', x0)\r\n\t\t.attr('y', y0)\r\n\t\t.attr('width', w)\r\n\t\t.attr('height', h)\r\n\t\t.attr(\"stroke-width\", 2)\r\n\t\t.attr(\"stroke\", \"black\")\r\n\t\t.attr('fill', 'none')\r\n\r\n\t\r\n\tconst rectsW = w / hor\r\n\tlet wArr = []\r\n\tfor (let i = rectsW; Math.round(i) < Math.round(w); i += rectsW) {\r\n\t\twArr.push(i)\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr(\"x1\", i + x0)\r\n\t\t\t.attr(\"y1\", 0 + y0)\r\n\t\t\t.attr(\"x2\", i + x0)\r\n\t\t\t.attr(\"y2\", h + y0)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t}\r\n\twArr.push(w)\r\n\tconst rectsH = h / ver\r\n\tlet hArr = []\r\n\tfor (let i = rectsH; Math.round(i) < Math.round(h); i += rectsH) {\r\n\t\thArr.push(i)\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr(\"x1\", 0 + x0)\r\n\t\t\t.attr(\"y1\", i + y0)\r\n\t\t\t.attr(\"x2\", w + x0)\r\n\t\t\t.attr(\"y2\", i + y0)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t}\r\n\thArr.push(h)\r\n\r\n\tlet linesCoords = [[0, 0, 0, 0]]\r\n\tfor (let i = 0; i < wArr.length + hArr.length - 1; i++) {\r\n\t\tlet x1, x2, y1, y2\r\n\t\tif (i <= wArr.length - 1) {\r\n\t\t\tx1 = wArr[i]\r\n\t\t\ty1 = 0\r\n\t\t} else {\r\n\t\t\tx1 = w\r\n\t\t\ty1 = (i - wArr.length + 1) * rectsH\r\n\t\t}\r\n\r\n\t\tif (i <= hArr.length - 1) {\r\n\t\t\ty2 = hArr[i]\r\n\t\t\tx2 = 0\r\n\t\t} else {\r\n\t\t\ty2 = h\r\n\t\t\tx2 = (i - hArr.length + 1) * rectsW\r\n\t\t}\r\n\t\t\r\n\t\tlinesCoords.push([x1, y1, x2, y2])\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr(\"x1\", x1 + x0)\r\n\t\t\t.attr(\"y1\", y1 + y0)\r\n\t\t\t.attr(\"x2\", x2 + x0)\r\n\t\t\t.attr(\"y2\", y2 + y0)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t}\r\n\r\n\tfor (let i = 0; i < wArr.length + hArr.length - 1; i++) {\r\n\t\tlet x1, x2, y1, y2\r\n\t\tif (i < wArr.length - 1) {\r\n\t\t\tx1 = wArr[i]\r\n\t\t\ty1 = 0\r\n\t\t} else {\r\n\t\t\tx1 = w\r\n\t\t\ty1 = (i - wArr.length + 1) * rectsH\r\n\t\t}\r\n\r\n\t\tif (i <= hArr.length - 1) {\r\n\t\t\ty2 = hArr[i]\r\n\t\t\tx2 = 0\r\n\t\t} else {\r\n\t\t\ty2 = h\r\n\t\t\tx2 = (i - hArr.length + 1) * rectsW\r\n\t\t}\r\n\t\t\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr(\"x1\", x1 + x0)\r\n\t\t\t.attr(\"y1\", y1 + y0)\r\n\t\t\t.attr(\"x2\", x2 + x0)\r\n\t\t\t.attr(\"y2\", y2 + y0)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t}\r\n\tfor (let i = 0; i < wArr.length + hArr.length; i++) {\r\n\t\tlet x1, x2, y1, y2\r\n\t\tif (i < wArr.length - 1) {\r\n\t\t\tx1 = wArr[wArr.length - 2 - i]\r\n\t\t\ty1 = 0\r\n\t\t} else {\r\n\t\t\tx1 = 0\r\n\t\t\ty1 = (i - wArr.length + 1) * rectsH\r\n\t\t}\r\n\r\n\t\tif (i <= hArr.length - 1) {\r\n\t\t\ty2 = hArr[i]\r\n\t\t\tx2 = w\r\n\t\t} else {\r\n\t\t\ty2 = h\r\n\t\t\tx2 = w - ((i - hArr.length + 1) * rectsW)\r\n\t\t}\r\n\t\t\r\n\t\tsvg.append(\"line\")\r\n\t\t\t.attr(\"x1\", x1 + x0)\r\n\t\t\t.attr(\"y1\", y1 + y0)\r\n\t\t\t.attr(\"x2\", x2 + x0)\r\n\t\t\t.attr(\"y2\", y2 + y0)\r\n\t\t\t.attr(\"stroke-width\", 1)\r\n\t\t\t.attr(\"stroke\", \"black\")\r\n\t}\r\n}\r\n\r\nconst formatter = (number) => {\r\n   let str = ''\r\n   const strNumber = String(number)\r\n   \r\n   for (let i = strNumber.length - 1; i >= 0; i--) {\r\n      str = ((strNumber.length - i) % 3 === 0 ? ' ' : '') + strNumber[i] + str\r\n   }\r\n   return str\r\n}\r\n\r\nexport const drawCharts = (colors, direction) => {\r\n   const canvasSizes = document.getElementById('canvas').getBoundingClientRect()\r\n\r\n   var margin = {top: 0, right: 0, bottom: 30, left: 40};\r\n   var width = canvasSizes.width - margin.left - margin.right;\r\n   var height = canvasSizes.height + 10 - margin.top - margin.bottom;\r\n  \r\n   var svg = d3.select(\"#canvas\").append(\"svg\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\",\"translate(\"+margin.left+\",\"+margin.top+\")\")\r\n  \r\n   const yScale = d3.scaleLinear().range([height, 0]).domain([0, 100 * height / width])\r\n   const xScale = d3.scaleLinear().range([0, width]).domain([0, 100])\r\n\r\n   const yAxis = d3.axisLeft(yScale).tickSize(-canvasSizes.width).ticks(5).tickFormat(formatter);\r\n   const yAxisGroup = svg.append(\"g\").call(yAxis)\r\n   \r\n   const xAxis = d3.axisBottom(xScale).tickSize(-canvasSizes.height).ticks(10).tickFormat(formatter);\r\n   const xAxisGroup = svg.append(\"g\").attr('transform', `translate(0, ${height})`).call(xAxis)\r\n  \r\n   svg.append(\"text\").text(\"Y\")\r\n      .attr(\"x\", 0 - margin.left)\r\n      .attr(\"y\", height / 2)\r\n   svg.append(\"text\").text(\"X\")\r\n      .attr(\"x\", width / 2)\r\n      .attr(\"y\", height + margin.bottom)\r\n\t\t.style(\"text-anchor\", \"middle\");\r\n\t\t\r\n\tconst rects = d3\r\n\t\t.select('#canvas')\r\n\t\t.append('svg')\r\n\t\t.attr('id', 'rects')\r\n\t\t.attr(\"clip-path\", \"url(#clip)\")\r\n\r\n\tconst gradientG = rects\r\n\t\t.append('g')\r\n\t\t.attr('id', 'gradientG')\r\n\t\t// .attr('transform', 'translate(41, 0)')\r\n\t\t.attr(\"clip-path\", \"url(#clipGradient)\")\r\n\t\r\n\tgradientG.append('rect')\r\n\t\t.attr('width', 2 * width)\r\n\t\t.attr('height', 2 * width)\r\n\t\t.attr('x', -width + 41)\r\n\t\t.attr('y', -width + height)\r\n\t\t.attr('fill', 'url(#gradient)')\r\n\t\t\r\n\tconst gradientDefs = gradientG\r\n\t\t.append(\"defs\")\r\n\tgradientDefs\r\n\t\t.append(\"clipPath\")\r\n\t\t.attr(\"id\", \"clipGradient\")\r\n\t\r\n\taddGradient(\r\n\t\tgradientDefs, \r\n\t\tdirection, \r\n\t\tcolors\r\n\t)\r\n\r\n\trects.append(\"defs\").append(\"clipPath\")\r\n      .attr('transform', 'translate(40, 0)')\r\n      .attr(\"id\", \"clip\")\r\n      .append(\"rect\")\r\n      .attr(\"width\", width)\r\n\t\t.attr(\"height\", height)\r\n\t\r\n\trects.append('g')\r\n\t\t.attr('id', 'rectsG')\r\n\r\n   var zoom = d3.zoom()\r\n      .scaleExtent([0.5, 1])\r\n      .translateExtent([[-width, -width + height],[width + 40, width + height + 20]])\r\n      .on(\"zoom\", zoomed);\r\n\r\n   function zoomed() {\r\n\t\td3.select('#rectsG').attr('transform', d3.event.transform)\r\n\t\td3.select('#gradientG').attr('transform', d3.event.transform)\r\n      xAxisGroup.call(xAxis.scale(d3.event.transform.rescaleX(xScale)));\r\n      yAxisGroup.call(yAxis.scale(d3.event.transform.rescaleY(yScale)));\r\n\t\twindow.prevZoom = {...d3.event}\r\n   }\r\n   d3.select('#rects').call(zoom)\r\n\r\n   return [xScale, yScale]\r\n}\r\n\r\nexport const changeGradient = (colors, direction) => {\r\n   const defs = d3.selectAll(\"#gradientG defs\")\r\n\r\n   defs.select('#gradient')\r\n      .remove()\r\n   \r\n   addGradient(defs, direction, colors)\r\n}\r\n\r\nexport const hideLines = () => {\r\n\tconsole.log('hide')\r\n\td3.selectAll('#rectsG line').attr('stroke-width', 0)\r\n\td3.selectAll('#rectsG rect').attr('stroke-width', 0)\r\n}\r\n\r\nexport const showLines = () => {\r\n\td3.selectAll('#rectsG line').attr('stroke-width', 1)\r\n\td3.selectAll('#rectsG rect').attr('stroke-width', 1)\r\n}","import React, { useState, useEffect } from 'react'\nimport './styles.css'\nimport Colors from './components/Colors'\nimport Modal from './components/Modal'\nimport editIcon from './imgs/plus.svg'\nimport hideIcon from './imgs/eye.svg'\nimport draw, { drawCharts, changeGradient, showLines, hideLines } from './d3'\nimport * as d3 from 'd3'\nimport {colors as colorValues} from './config'\n\nfunction App() {\n  const [colors, setColors] = useState([0, colorValues.length])\n  const [isRectsModalOpen, setIsRectsModalOpen] = useState(false)\n  const [isLinesShows, setIsLinesShows] = useState(true)\n  const [isGradientModalOpen, setIsGradientModalOpen] = useState(false)\n  const [countRects, setCountRects] = useState([0, 0])\n  const [gradientDirection, setGradientDirection] = useState('bottom-right')\n  const [isOverlayOpen, setIsOverlayOpen] = useState(false)\n  const [scales, setScales] = useState(null)\n\n  const colorsChange = (top, bottom) => {\n    setColors([top, bottom])\n    changeGradient(colorValues.slice(top, bottom), gradientDirection)\n  }\n\n  const onRectsSubmit = e => {\n    e.preventDefault();\n    setIsOverlayOpen(true);\n    const formData = new FormData(e.target.parentNode)\n    setCountRects([parseInt(formData.get('horizontal')), parseInt(formData.get('vertical'))])\n  }\n  const onGradientDirectionSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData(e.target.parentNode)\n    setGradientDirection(formData.get('direction'))\n    changeGradient(colorValues.slice(colors[0], colors[1]), formData.get('direction'))\n  }\n\n  useEffect(() => {\n    const scales = drawCharts(\n      colorValues.slice(colors[0], colors[1]),\n      gradientDirection,\n    )\n    setScales(scales)\n\n        const id = 'rect' + Date.now()\n\n        const rectParams = JSON.parse(localStorage.getItem('rectParams') || '[]')\n        if (rectParams.length) {\n          draw(\n            ...rectParams,\n            id,\n          )\n        } else {\n          const canvasSizes = document.getElementById('canvas').getBoundingClientRect()\n\n          const x1 = scales[0].invert(window.innerWidth / 2 - 150) * ((canvasSizes.width - 40) / 100) - 47 - ((window.prevZoom && window.prevZoom.transform.x) || 0)\n          const y1 = canvasSizes.height - scales[1].invert(window.innerHeight / 2 - 150) * ((canvasSizes.width - 40) / 100) - 60 - ((window.prevZoom && window.prevZoom.transform.y) || 0)\n          setIsOverlayOpen(false)\n          draw(\n            3,\n            3,\n            x1,\n            y1,\n            300,\n            300,\n            id,\n          )\n        }   \n  }, [])\n\n  useEffect(() => {\n    if (!(scales && scales.length)) return\n    const canvasSizes = document.getElementById('canvas').getBoundingClientRect()\n\n    const overlayDrag = d3.drag()\n      .on(\"end\", function () {\n        \n        const x1 = scales[0].invert(d3.event.subject.x) * ((canvasSizes.width - 40) / 100) - 47 - ((window.prevZoom && window.prevZoom.transform.x) || 0)\n        const y1 = canvasSizes.height - scales[1].invert(d3.event.subject.y) * ((canvasSizes.width - 40) / 100) - 60 - ((window.prevZoom && window.prevZoom.transform.y) || 0)\n\n        const id = 'rect' + Date.now()\n\n        setIsOverlayOpen(false)\n        draw(\n          ...countRects, \n          x1,\n          y1,\n          (d3.event.x - d3.event.subject.x) / ((window.prevZoom && window.prevZoom.transform.k) || 1),\n          (d3.event.y - d3.event.subject.y) / ((window.prevZoom && window.prevZoom.transform.k) || 1),\n          id,\n        )\n      });\n    d3.select(\"#overlay\").call(overlayDrag);\n    \n  }, [scales, countRects, gradientDirection])\n\n  useEffect(() => {\n    isLinesShows ? showLines() : hideLines() \n  }, [isLinesShows])\n\n  return (\n    <main>\n      <button onClick={() => setIsRectsModalOpen(true)} className='edit'><img src={editIcon} alt='Редактировать' /></button>\n      <button onClick={() => setIsLinesShows(prev => !prev)} className='hide'><img src={hideIcon} alt='Спрятать линии' /></button>\n      {isRectsModalOpen && \n        <Modal\n          onClose={() => setIsRectsModalOpen(false)}\n          onSubmit={onRectsSubmit}\n          header={'Прямоугольников'}\n          form={<ul>\n            <li>\n               <label htmlFor=\"horizontal\">По горизонтали</label>\n               <input type=\"number\" placeholder='2' id='horizontal' min='1' name='horizontal'/>\n            </li>\n            <li>\n               <label htmlFor=\"vertical\">По вертикали</label>\n               <input type=\"number\" placeholder='2' id='vertical' min='1' name='vertical'/>\n            </li>\n         </ul>}\n        />\n      }\n      {isGradientModalOpen && \n        <Modal\n          onClose={() => setIsGradientModalOpen(false)}\n          onSubmit={onGradientDirectionSubmit}\n          header={'Направление градента'}\n          form={<ul>\n            <li>\n              <input type=\"radio\" id=\"bottom-right\" name=\"direction\" value=\"bottom-right\" defaultChecked={gradientDirection === 'bottom-right'}/>\n              <label for=\"huey\">-x+y</label>\n            </li>\n            <li>\n              <input type=\"radio\" id=\"top-right\" name=\"direction\" value=\"top-right\" defaultChecked={gradientDirection === 'top-right'}/>\n              <label for=\"huey\">-x-y</label>\n            </li>\n            <li>\n              <input type=\"radio\" id=\"top-left\" name=\"direction\" value=\"top-left\" defaultChecked={gradientDirection === 'top-left'}/>\n              <label for=\"huey\">x-y</label>\n            </li>\n            <li>\n              <input type=\"radio\" id=\"bottom-left\" name=\"direction\" value=\"bottom-left\" defaultChecked={gradientDirection === 'bottom-left'}/>\n              <label for=\"huey\">x+y</label>\n            </li>\n            <li>\n              <input type=\"radio\" id=\"center\" name=\"direction\" value=\"center\" defaultChecked={gradientDirection === 'center'}/>\n              <label for=\"huey\">x<sup>2</sup>+y<sup>2</sup></label>\n            </li>\n         </ul>}\n        />\n      }\n      <div className='wrapper'>\n        <div\n          id='overlay'\n          style={{display: isOverlayOpen ? 'block' : 'none'}}\n          // onMouseDown={onMouseDown}\n          // onMouseMove={onMouseMove}\n          // onMouseUp={onMouseUp}\n        ></div>\n        <div\n          className='canvas'\n          id='canvas'\n        >\n          {/* <div\n            id=\"chart\"\n            style={{\n              left: coords[0][0],\n              top: coords[0][1],\n              width: coords[1][0] - coords[0][0],\n              height: coords[1][1] - coords[0][1],\n              background: `linear-gradient(${getGradientAngle(coords)}deg, ${colorValues.slice(colors[0], colors[1]).join(', ')})`\n            }}\n          ></div> */}\n        </div>\n      </div>\n      <Colors\n        onChange={colorsChange}\n        top={colors[0]}\n        bottom={colors[1]}\n        openGradientModal={() => setIsGradientModalOpen(true)}\n        gradientDirection={gradientDirection}\n      />\n    </main>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}